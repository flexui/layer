!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define("layer",["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";function t(e,t,n){Array.isArray(n)||(n=!1);for(var o in t)if(t.hasOwnProperty(o)){if(n&&n.indexOf(o)===-1)continue;"prototype"!==o&&(e[o]=t[o])}}function n(e,n,o){function r(){}return e.setPrototypeOf?e.setPrototypeOf(n.prototype):e.__proto__?e.__proto__=n.prototype:(r.prototype=n.prototype,e.prototype=new r),e.prototype.constructor=e,t(e,o),e}function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);default:return e.apply(t,n)}}function r(){}function i(){}e="default"in e?e["default"]:e;var a=Array.prototype,c=a.slice;r.prototype={on:function(e,t,n){var o=this,r=o.e||(o.e={});return n=arguments.length<3?o:n,(r[e]||(r[e]=[])).push({fn:t,context:n}),o},once:function(e,t,n){function r(){i.off(e,r),o(t,this,arguments)}var i=this;return i.on(e,r,n)},emit:function(e){for(var t,n=this,r=c.call(arguments,1),i=n.e||(n.e={}),a=i[e]||[],f=0,s=a.length;f<s;f++)t=a[f],o(t.fn,t.context,r);return n},off:function(e,t,n){var o=this,r=o.e||(o.e={}),i=arguments.length;switch(i){case 0:o.e={};break;case 1:delete r[e];break;default:if(t){var a=r[e];if(a){n=i<3?o:n,i=a.length;for(var c=0;c<i;c++)if(evts[c].fn===t&&evts[c].fn.context===n){a.splice(c,1);break}a.length||delete r[e]}}}return o}};var f=1024,s={alloc:[],node:e('<div tabindex="0"></div>').css({position:"fixed",top:0,left:0,width:"100%",height:"100%",userSelect:"none"}),shim:e('<div tabindex="0"></div>').css({width:0,height:0,opacity:0}),zIndex:function(e){e=Math.max(0,--e),s.node.css("z-index",e)},attach:function(e){var t=e.node,n=e.className+"-backdrop";s.node.addClass(n).insertBefore(t),s.shim.insertAfter(t)},show:function(e){var t=s.alloc;t.indexOf(e)===-1&&(s.attach(e),t.push(e))},hide:function(e){var t=s.alloc;s.alloc=t.filter(function(t){return e!==t});var n=t.length;0===n?(s.node.remove(),s.shim.remove()):(e=t[n-1],s.zIndex(e.zIndex),s.attach(e))}};i.ZINDEX=f,i.BACKDROP=s,n(i,r,{})});
//# sourceMappingURL=layer.js.map